<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Winnerstour — Eventos e Pacotes Corporativos</title>
  
  <!-- Widget de busca (CSS) -->
  <link rel="stylesheet" href="https://static.onertravel.com/widget/search/production/styles.css">

  <!-- CSS principal -->
  <link rel="stylesheet" href="base.css" />
  
  <!-- Ajuste de logo e texto -->
  <style>
    .wt-logo {
      font-weight: 900;
      text-shadow: none !important;
      filter: none !important;
      color: #fff;
      -webkit-text-stroke: 2px #000;
      paint-order: stroke fill;
      letter-spacing: .5px;
    }
    .event-card .fav {
      width: 24px; height: 24px; object-fit: cover;
      border-radius: 4px; margin-right: 8px; vertical-align: -6px;
    }
    .event-card h3 { display: inline; margin-left: 6px; }
  </style>
</head>

<body>
  <header>
    <div class="wt-logo">Winnerstour</div>
  </header>

  <!-- ===== BLOCO DE APRESENTAÇÃO + CTA ===== -->
  <section class="cta-intro" aria-label="Apresentação e contato imediato">
    <h2>Precisa de ajuda? Chame aqui no WhatsApp</h2>
    <p>
      Fale direto com nossa equipe para <strong>check-in</strong>, <strong>remarcação</strong>, <strong>assentos</strong> e dúvidas durante a viagem.
      Atendimento humano e suporte imediato no WhatsApp. Se preferir, faça seu <strong>orçamento agora</strong> pela <em>loja virtual</em> logo abaixo.
      E mais embaixo você encontra nossos <strong>eventos, pacotes e destinos</strong>.
    </p>

    <div class="cta-actions">
      <a class="btn btn-whatsapp" target="_blank" rel="noopener"
         href="https://wa.me/5541999450111?text=Ol%C3%A1!%20Quero%20ajuda%20com%20minha%20reserva%20ou%20um%20or%C3%A7amento.">Falar no WhatsApp</a>
      <a class="btn btn-outline" href="https://www.comprarviagem.com.br/winnerstour/">Loja Virtual</a>
      <a class="btn btn-outline" href="https://www.winnerstour.com.br/">Site</a>
      <a class="btn btn-outline" href="#eventos">Eventos</a>
      <a class="btn btn-outline" href="#destinos">Destinos</a>
    </div>
    <div class="cta-divider" role="presentation"></div>
  </section>

  <!-- LOJA VIRTUAL WIDGET -->
  <div id="wrapper"> 
    <befly-widget language="pt-br" new-tab="true"></befly-widget>
  </div>
  <script src="https://static.onertravel.com/widget/search/production/widget-befly.js"></script>

  <main id="eventos" class="wt-container">
    <h1>Eventos e Feiras</h1>
    <div id="eventsGrid" class="grid"></div>
  </main>

  <script>
  (async () => {
    try {
      const res = await fetch("/api/events");
      const { events } = await res.json();
      window.__EVENTS = events;
      const grid = document.querySelector("#eventsGrid");
      if (!grid) return;

      grid.innerHTML = events.map(ev => {
        const hero = ev.banner.replace("-banner.", "-hero.");
        const favicon = ev.banner.replace("-banner.", "-favicon.");
        return `
        <a class="event-card" href="${ev.url}">
          <img loading="lazy" src="${hero}" onerror="this.onerror=null;this.src='${ev.banner}'" alt="${ev.title}">
          <h3><img class="fav" src="${favicon}" onerror="this.style.display='none'">${ev.emoji ? ev.emoji + ' ' : ''}${ev.title}</h3>
          <p>${ev.subtitle || ''}</p>
        </a>`;
      }).join("");
    } catch (err) {
      console.error("Falha ao carregar /api/events", err);
    }
  })();
  </script>
</body>
</html>
